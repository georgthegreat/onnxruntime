# Generated by devtools/yamaker from nixpkgs 22.11.

LIBRARY()

LICENSE(
    Apache-2.0 AND
    Apache-2.0 WITH LLVM-exception AND
    BSD-3-Clause AND
    GPL-2.0-only AND
    LicenseRef-scancode-generic-cla AND
    LicenseRef-scancode-unknown-license-reference AND
    LicenseRef-scancode-warranty-disclaimer AND
    MIT AND
    MPL-2.0 AND
    Public-Domain
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

OWNER(
    g:cpp-contrib
    g:matrixnet
)

VERSION(1.14.1)

ORIGINAL_SOURCE(https://github.com/microsoft/onnxruntime/archive/v1.14.1.tar.gz)

PEERDIR(
    contrib/libs/eigen
    contrib/libs/flatbuffers
    contrib/libs/libiconv
    contrib/libs/nsync
    contrib/libs/onnx
    contrib/libs/onnx/proto
    contrib/libs/protobuf
    contrib/libs/re2
    contrib/restricted/abseil-cpp
    contrib/restricted/boost/mp11
    contrib/restricted/cpuinfo
    contrib/restricted/nlohmann_json
)

ADDINCL(
    contrib/libs/eigen
    contrib/libs/flatbuffers/include
    contrib/libs/nsync/public
    contrib/libs/onnx_runtime
    contrib/libs/onnx_runtime/_deps/date-src/include
    contrib/libs/onnx_runtime/_deps/gsl-src/include
    contrib/libs/onnx_runtime/_deps/safeint-src
    contrib/libs/onnx_runtime/include/onnxruntime
    contrib/libs/onnx_runtime/include/onnxruntime/core/session
    contrib/libs/onnx_runtime/onnxruntime
    contrib/libs/onnx_runtime/onnxruntime/core/mlas/inc
    contrib/libs/onnx_runtime/onnxruntime/core/mlas/lib
    contrib/libs/re2
    contrib/restricted/cpuinfo/include
)

NO_COMPILER_WARNINGS()

NO_UTIL()

CFLAGS(
    -DCPUINFO_SUPPORTED
    -DCPUINFO_SUPPORTED_PLATFORM=1
    -DEIGEN_MPL2_ONLY
    -DEIGEN_USE_THREADS
    -DENABLE_CPU_FP16_TRAINING_OPS
    -DFILE_NAME=\"onnxruntime_providers_shared.dll\"
    -DJSON_DIAGNOSTICS=0
    -DJSON_USE_IMPLICIT_CONVERSIONS=1
    -DMLAS_AMX_SUPPORTED
    -DNSYNC_ATOMIC_CPP11
    -DONNX_ML=1
    -DONNX_NAMESPACE=onnx
    -DONNX_USE_LITE_PROTO=1
    -DORT_ENABLE_STREAM
    -DPLATFORM_POSIX
    -DPROTOBUF_USE_DLLS
    -DUSE_CUDA=1
    -DVER_BUILD=0
    -DVER_MAJOR=0
    -DVER_MINOR=0
    -DVER_PRIVATE=0
    -DVER_STRING="\"Internal Build\""
    -D__ONNX_NO_DOC_STRINGS
)

SRCS(
    onnxruntime/contrib_ops/cpu/activations.cc
    onnxruntime/contrib_ops/cpu/attnlstm/attention_wrapper.cc
    onnxruntime/contrib_ops/cpu/attnlstm/bahdanau_attention.cc
    onnxruntime/contrib_ops/cpu/attnlstm/deep_cpu_attn_lstm.cc
    onnxruntime/contrib_ops/cpu/attnlstm/uni_dir_attn_lstm.cc
    onnxruntime/contrib_ops/cpu/bert/attention.cc
    onnxruntime/contrib_ops/cpu/bert/attention_base.cc
    onnxruntime/contrib_ops/cpu/bert/bias_gelu.cc
    onnxruntime/contrib_ops/cpu/bert/bias_gelu_helper.cc
    onnxruntime/contrib_ops/cpu/bert/bifurcation_detector.cc
    onnxruntime/contrib_ops/cpu/bert/embed_layer_norm.cc
    onnxruntime/contrib_ops/cpu/bert/embed_layer_norm_helper.cc
    onnxruntime/contrib_ops/cpu/bert/fast_gelu.cc
    onnxruntime/contrib_ops/cpu/bert/longformer_attention_base.cc
    onnxruntime/contrib_ops/cpu/bert/ngram_repeat_block.cc
    onnxruntime/contrib_ops/cpu/cdist.cc
    onnxruntime/contrib_ops/cpu/conv_transpose_with_dynamic_pads.cc
    onnxruntime/contrib_ops/cpu/cpu_contrib_kernels.cc
    onnxruntime/contrib_ops/cpu/crop.cc
    onnxruntime/contrib_ops/cpu/crop_and_resize.cc
    onnxruntime/contrib_ops/cpu/dynamicslice.cc
    onnxruntime/contrib_ops/cpu/element_wise_ops.cc
    onnxruntime/contrib_ops/cpu/expand_dims.cc
    onnxruntime/contrib_ops/cpu/fused_activation.cc
    onnxruntime/contrib_ops/cpu/fused_conv.cc
    onnxruntime/contrib_ops/cpu/fused_gemm.cc
    onnxruntime/contrib_ops/cpu/fused_matmul.cc
    onnxruntime/contrib_ops/cpu/grid_sample.cc
    onnxruntime/contrib_ops/cpu/image_scaler.cc
    onnxruntime/contrib_ops/cpu/inverse.cc
    onnxruntime/contrib_ops/cpu/layer_norm.cc
    onnxruntime/contrib_ops/cpu/math/sparse_dense_matmul.cc
    onnxruntime/contrib_ops/cpu/maxpool_with_mask.cc
    onnxruntime/contrib_ops/cpu/mean_variance_normalization_exp.cc
    onnxruntime/contrib_ops/cpu/murmur_hash3.cc
    onnxruntime/contrib_ops/cpu/nchwc_ops.cc
    onnxruntime/contrib_ops/cpu/quantization/attention_quant.cc
    onnxruntime/contrib_ops/cpu/quantization/dynamic_quantize_lstm.cc
    onnxruntime/contrib_ops/cpu/quantization/dynamic_quantize_matmul.cc
    onnxruntime/contrib_ops/cpu/quantization/matmul_integer16.cc
    onnxruntime/contrib_ops/cpu/quantization/nhwc_max_pool.cc
    onnxruntime/contrib_ops/cpu/quantization/qembed_layer_norm.cc
    onnxruntime/contrib_ops/cpu/quantization/qlinear_activations.cc
    onnxruntime/contrib_ops/cpu/quantization/qlinear_binary_op.cc
    onnxruntime/contrib_ops/cpu/quantization/qlinear_concat.cc
    onnxruntime/contrib_ops/cpu/quantization/qlinear_global_average_pool.cc
    onnxruntime/contrib_ops/cpu/quantization/qlinear_lookup_table.cc
    onnxruntime/contrib_ops/cpu/quantization/qlinear_pool.cc
    onnxruntime/contrib_ops/cpu/quantization/qlinear_softmax.cc
    onnxruntime/contrib_ops/cpu/quantization/qlinear_where.cc
    onnxruntime/contrib_ops/cpu/quantization/quant_gemm.cc
    onnxruntime/contrib_ops/cpu/quantization/quantize_ops.cc
    onnxruntime/contrib_ops/cpu/sample.cc
    onnxruntime/contrib_ops/cpu/skip_layer_norm.cc
    onnxruntime/contrib_ops/cpu/tokenizer.cc
    onnxruntime/contrib_ops/cpu/transformers/beam_search.cc
    onnxruntime/contrib_ops/cpu/transformers/beam_search_parameters.cc
    onnxruntime/contrib_ops/cpu/transformers/beam_search_scorer.cc
    onnxruntime/contrib_ops/cpu/transformers/dump_tensor.cc
    onnxruntime/contrib_ops/cpu/transformers/generation_device_helper.cc
    onnxruntime/contrib_ops/cpu/transformers/greedy_search.cc
    onnxruntime/contrib_ops/cpu/transformers/greedy_search_parameters.cc
    onnxruntime/contrib_ops/cpu/transformers/logits_processor.cc
    onnxruntime/contrib_ops/cpu/transformers/sampling.cc
    onnxruntime/contrib_ops/cpu/transformers/sampling_parameters.cc
    onnxruntime/contrib_ops/cpu/transformers/sequences.cc
    onnxruntime/contrib_ops/cpu/transformers/subgraph_base.cc
    onnxruntime/contrib_ops/cpu/transformers/subgraph_gpt.cc
    onnxruntime/contrib_ops/cpu/transformers/subgraph_t5_decoder.cc
    onnxruntime/contrib_ops/cpu/transformers/subgraph_t5_encoder.cc
    onnxruntime/contrib_ops/cpu/unique.cc
    onnxruntime/contrib_ops/cpu/word_conv_embedding.cc
    onnxruntime/core/common/cpuid_info.cc
    onnxruntime/core/common/cpuid_uarch.cc
    onnxruntime/core/common/denormal.cc
    onnxruntime/core/common/helper.cc
    onnxruntime/core/common/logging/capture.cc
    onnxruntime/core/common/logging/logging.cc
    onnxruntime/core/common/logging/sinks/ostream_sink.cc
    onnxruntime/core/common/path.cc
    onnxruntime/core/common/profiler.cc
    onnxruntime/core/common/profiler_common.cc
    onnxruntime/core/common/status.cc
    onnxruntime/core/common/threadpool.cc
    onnxruntime/core/flatbuffers/flatbuffers_utils.cc
    onnxruntime/core/framework/allocation_planner.cc
    onnxruntime/core/framework/allocator.cc
    onnxruntime/core/framework/allocatormgr.cc
    onnxruntime/core/framework/bfc_arena.cc
    onnxruntime/core/framework/callback.cc
    onnxruntime/core/framework/cloud_executor.cc
    onnxruntime/core/framework/cloud_invoker.cc
    onnxruntime/core/framework/config_options.cc
    onnxruntime/core/framework/copy.cc
    onnxruntime/core/framework/customregistry.cc
    onnxruntime/core/framework/data_transfer.cc
    onnxruntime/core/framework/data_transfer_manager.cc
    onnxruntime/core/framework/data_types.cc
    onnxruntime/core/framework/debug_node_inputs_outputs_utils.cc
    onnxruntime/core/framework/device_stream_collection.cc
    onnxruntime/core/framework/empty.cc
    onnxruntime/core/framework/endian_utils.cc
    onnxruntime/core/framework/error_code.cc
    onnxruntime/core/framework/ex_lib_loader.cc
    onnxruntime/core/framework/execution_frame.cc
    onnxruntime/core/framework/execution_provider.cc
    onnxruntime/core/framework/execution_steps.cc
    onnxruntime/core/framework/fallback_cpu_capability.cc
    onnxruntime/core/framework/feeds_fetches_manager.cc
    onnxruntime/core/framework/func_kernel.cc
    onnxruntime/core/framework/fuse_nodes_funcs.cc
    onnxruntime/core/framework/graph_partitioner.cc
    onnxruntime/core/framework/kernel_def_builder.cc
    onnxruntime/core/framework/kernel_registry.cc
    onnxruntime/core/framework/kernel_registry_manager.cc
    onnxruntime/core/framework/kernel_type_str_resolver.cc
    onnxruntime/core/framework/kernel_type_str_resolver_utils.cc
    onnxruntime/core/framework/library_handles.cc
    onnxruntime/core/framework/memcpy.cc
    onnxruntime/core/framework/memory_info.cc
    onnxruntime/core/framework/mldata_type_utils.cc
    onnxruntime/core/framework/murmurhash3.cc
    onnxruntime/core/framework/node_index_info.cc
    onnxruntime/core/framework/onnxruntime_map_type_info.cc
    onnxruntime/core/framework/onnxruntime_sequence_type_info.cc
    onnxruntime/core/framework/onnxruntime_typeinfo.cc
    onnxruntime/core/framework/op_kernel.cc
    onnxruntime/core/framework/op_kernel_info.cc
    onnxruntime/core/framework/op_node_proto_helper.cc
    onnxruntime/core/framework/ort_value_pattern_planner.cc
    onnxruntime/core/framework/ort_value_tensor_slicer.cc
    onnxruntime/core/framework/partial_graph_execution_state.cc
    onnxruntime/core/framework/prepacked_weights.cc
    onnxruntime/core/framework/prepacked_weights_container.cc
    onnxruntime/core/framework/random_generator.cc
    onnxruntime/core/framework/random_seed.cc
    onnxruntime/core/framework/run_options.cc
    onnxruntime/core/framework/sequential_executor.cc
    onnxruntime/core/framework/session_options.cc
    onnxruntime/core/framework/session_state.cc
    onnxruntime/core/framework/session_state_utils.cc
    onnxruntime/core/framework/simple_tensor_allocator.cc
    onnxruntime/core/framework/sparse_tensor.cc
    onnxruntime/core/framework/sparse_utils.cc
    onnxruntime/core/framework/stream_execution_context.cc
    onnxruntime/core/framework/tensor.cc
    onnxruntime/core/framework/tensor_allocator.cc
    onnxruntime/core/framework/tensor_external_data_info.cc
    onnxruntime/core/framework/tensor_shape.cc
    onnxruntime/core/framework/tensor_type_and_shape.cc
    onnxruntime/core/framework/tensorprotoutils.cc
    onnxruntime/core/framework/transpose_helper.cc
    onnxruntime/core/framework/utils.cc
    onnxruntime/core/graph/contrib_ops/attn_lstm_schema_defs.cc
    onnxruntime/core/graph/contrib_ops/bert_defs.cc
    onnxruntime/core/graph/contrib_ops/contrib_defs.cc
    onnxruntime/core/graph/contrib_ops/diffusion_defs.cc
    onnxruntime/core/graph/contrib_ops/internal_nhwc_onnx_opset.cc
    onnxruntime/core/graph/contrib_ops/nchwc_schema_defs.cc
    onnxruntime/core/graph/contrib_ops/nhwc_schema_defs.cc
    onnxruntime/core/graph/contrib_ops/onnx_deprecated_operators.cc
    onnxruntime/core/graph/contrib_ops/onnx_function_util.cc
    onnxruntime/core/graph/contrib_ops/quantization_defs.cc
    onnxruntime/core/graph/contrib_ops/range_schema_defs.cc
    onnxruntime/core/graph/contrib_ops/shape_inference_functions.cc
    onnxruntime/core/graph/function.cc
    onnxruntime/core/graph/function_utils.cc
    onnxruntime/core/graph/graph.cc
    onnxruntime/core/graph/graph_flatbuffers_utils.cc
    onnxruntime/core/graph/graph_proto_serializer.cc
    onnxruntime/core/graph/graph_utils.cc
    onnxruntime/core/graph/graph_viewer.cc
    onnxruntime/core/graph/model.cc
    onnxruntime/core/graph/node_attr_utils.cc
    onnxruntime/core/graph/op.cc
    onnxruntime/core/graph/op_identifier_utils.cc
    onnxruntime/core/graph/runtime_optimization_record_container.cc
    onnxruntime/core/graph/schema_registry.cc
    onnxruntime/core/mlas/lib/activate.cpp
    onnxruntime/core/mlas/lib/compute.cpp
    onnxruntime/core/mlas/lib/convolve.cpp
    onnxruntime/core/mlas/lib/convsym.cpp
    onnxruntime/core/mlas/lib/dgemm.cpp
    onnxruntime/core/mlas/lib/erf.cpp
    onnxruntime/core/mlas/lib/logistic.cpp
    onnxruntime/core/mlas/lib/platform.cpp
    onnxruntime/core/mlas/lib/pooling.cpp
    onnxruntime/core/mlas/lib/qdwconv.cpp
    onnxruntime/core/mlas/lib/qdwconv_kernelsize.cpp
    onnxruntime/core/mlas/lib/qgemm.cpp
    onnxruntime/core/mlas/lib/qgemm_kernel_default.cpp
    onnxruntime/core/mlas/lib/qgemm_kernel_sse.cpp
    onnxruntime/core/mlas/lib/qladd.cpp
    onnxruntime/core/mlas/lib/qlgavgpool.cpp
    onnxruntime/core/mlas/lib/qlmul.cpp
    onnxruntime/core/mlas/lib/qpostprocessor.cpp
    onnxruntime/core/mlas/lib/quantize.cpp
    onnxruntime/core/mlas/lib/reorder.cpp
    onnxruntime/core/mlas/lib/sgemm.cpp
    onnxruntime/core/mlas/lib/snchwc.cpp
    onnxruntime/core/mlas/lib/tanh.cpp
    onnxruntime/core/mlas/lib/threading.cpp
    onnxruntime/core/mlas/lib/transpose.cpp
    onnxruntime/core/mlas/lib/x86_64/ConvSymKernelAvx2.S
    onnxruntime/core/mlas/lib/x86_64/ConvSymKernelAvx512Core.S
    onnxruntime/core/mlas/lib/x86_64/DgemmKernelAvx.S
    onnxruntime/core/mlas/lib/x86_64/DgemmKernelAvx512F.S
    onnxruntime/core/mlas/lib/x86_64/DgemmKernelFma3.S
    onnxruntime/core/mlas/lib/x86_64/DgemmKernelSse2.S
    onnxruntime/core/mlas/lib/x86_64/ErfKernelFma3.S
    onnxruntime/core/mlas/lib/x86_64/LogisticKernelFma3.S
    onnxruntime/core/mlas/lib/x86_64/QgemmU8S8KernelAmx.S
    onnxruntime/core/mlas/lib/x86_64/QgemmU8S8KernelAvx2.S
    onnxruntime/core/mlas/lib/x86_64/QgemmU8U8KernelAvx2.S
    onnxruntime/core/mlas/lib/x86_64/QgemmU8X8KernelAvx2.S
    onnxruntime/core/mlas/lib/x86_64/QgemmU8X8KernelAvx512Core.S
    onnxruntime/core/mlas/lib/x86_64/QgemvU8S8KernelAvx2.S
    onnxruntime/core/mlas/lib/x86_64/QgemvU8S8KernelAvx512Core.S
    onnxruntime/core/mlas/lib/x86_64/QgemvU8S8KernelAvx512Vnni.S
    onnxruntime/core/mlas/lib/x86_64/QgemvU8S8KernelAvxVnni.S
    onnxruntime/core/mlas/lib/x86_64/SconvKernelAvx.S
    onnxruntime/core/mlas/lib/x86_64/SconvKernelAvx512F.S
    onnxruntime/core/mlas/lib/x86_64/SconvKernelFma3.S
    onnxruntime/core/mlas/lib/x86_64/SconvKernelSse2.S
    onnxruntime/core/mlas/lib/x86_64/SgemmKernelAvx.S
    onnxruntime/core/mlas/lib/x86_64/SgemmKernelAvx512F.S
    onnxruntime/core/mlas/lib/x86_64/SgemmKernelFma3.S
    onnxruntime/core/mlas/lib/x86_64/SgemmKernelM1Avx.S
    onnxruntime/core/mlas/lib/x86_64/SgemmKernelM1TransposeBAvx.S
    onnxruntime/core/mlas/lib/x86_64/SgemmKernelSse2.S
    onnxruntime/core/mlas/lib/x86_64/SgemmTransposePackB16x4Avx.S
    onnxruntime/core/mlas/lib/x86_64/SgemmTransposePackB16x4Sse2.S
    onnxruntime/core/mlas/lib/x86_64/SoftmaxKernelAvx.S
    onnxruntime/core/mlas/lib/x86_64/SpoolKernelAvx.S
    onnxruntime/core/mlas/lib/x86_64/SpoolKernelAvx512F.S
    onnxruntime/core/mlas/lib/x86_64/SpoolKernelSse2.S
    onnxruntime/core/mlas/lib/x86_64/TanhKernelFma3.S
    onnxruntime/core/mlas/lib/x86_64/TransKernelAvx512F.S
    onnxruntime/core/mlas/lib/x86_64/TransKernelFma3.S
    onnxruntime/core/optimizer/attention_fusion.cc
    onnxruntime/core/optimizer/bias_dropout_fusion.cc
    onnxruntime/core/optimizer/bias_gelu_fusion.cc
    onnxruntime/core/optimizer/bias_softmax_fusion.cc
    onnxruntime/core/optimizer/cast_elimination.cc
    onnxruntime/core/optimizer/common_subexpression_elimination.cc
    onnxruntime/core/optimizer/compute_optimizer/compute_optimizer.cc
    onnxruntime/core/optimizer/compute_optimizer/passthrough_actors.cc
    onnxruntime/core/optimizer/concat_slice_elimination.cc
    onnxruntime/core/optimizer/constant_folding.cc
    onnxruntime/core/optimizer/constant_sharing.cc
    onnxruntime/core/optimizer/conv_activation_fusion.cc
    onnxruntime/core/optimizer/conv_add_act_fusion.cc
    onnxruntime/core/optimizer/conv_add_fusion.cc
    onnxruntime/core/optimizer/conv_bn_fusion.cc
    onnxruntime/core/optimizer/conv_mul_fusion.cc
    onnxruntime/core/optimizer/div_mul_fusion.cc
    onnxruntime/core/optimizer/double_qdq_pairs_remover.cc
    onnxruntime/core/optimizer/dropout_elimination.cc
    onnxruntime/core/optimizer/dynamic_quantize_matmul_fusion.cc
    onnxruntime/core/optimizer/embed_layer_norm_fusion.cc
    onnxruntime/core/optimizer/expand_elimination.cc
    onnxruntime/core/optimizer/fast_gelu_fusion.cc
    onnxruntime/core/optimizer/free_dim_override_transformer.cc
    onnxruntime/core/optimizer/gather_fusion.cc
    onnxruntime/core/optimizer/gelu_approximation.cc
    onnxruntime/core/optimizer/gelu_fusion.cc
    onnxruntime/core/optimizer/gemm_activation_fusion.cc
    onnxruntime/core/optimizer/gemm_sum_fusion.cc
    onnxruntime/core/optimizer/gemm_transpose_fusion.cc
    onnxruntime/core/optimizer/graph_transformer.cc
    onnxruntime/core/optimizer/graph_transformer_mgr.cc
    onnxruntime/core/optimizer/graph_transformer_utils.cc
    onnxruntime/core/optimizer/identical_children_consolidation.cc
    onnxruntime/core/optimizer/identity_elimination.cc
    onnxruntime/core/optimizer/initializer.cc
    onnxruntime/core/optimizer/insert_cast_transformer.cc
    onnxruntime/core/optimizer/isinf_reducesum_fusion.cc
    onnxruntime/core/optimizer/layer_norm_fusion.cc
    onnxruntime/core/optimizer/matmul_add_fusion.cc
    onnxruntime/core/optimizer/matmul_integer_to_float.cc
    onnxruntime/core/optimizer/matmul_scale_fusion.cc
    onnxruntime/core/optimizer/matmul_transpose_fusion.cc
    onnxruntime/core/optimizer/nchwc_transformer.cc
    onnxruntime/core/optimizer/nhwc_transformer.cc
    onnxruntime/core/optimizer/noop_elimination.cc
    onnxruntime/core/optimizer/not_where_fusion.cc
    onnxruntime/core/optimizer/optimizer_execution_frame.cc
    onnxruntime/core/optimizer/propagate_cast_ops.cc
    onnxruntime/core/optimizer/qdq_transformer/avx2_weight_s8_to_u8.cc
    onnxruntime/core/optimizer/qdq_transformer/clip_quantizelinear.cc
    onnxruntime/core/optimizer/qdq_transformer/qdq_final_cleanup.cc
    onnxruntime/core/optimizer/qdq_transformer/qdq_propagation.cc
    onnxruntime/core/optimizer/qdq_transformer/qdq_s8_to_u8.cc
    onnxruntime/core/optimizer/qdq_transformer/qdq_util.cc
    onnxruntime/core/optimizer/qdq_transformer/relu_quantizelinear.cc
    onnxruntime/core/optimizer/qdq_transformer/s8_to_u8.cc
    onnxruntime/core/optimizer/qdq_transformer/selectors_actions/qdq_actions.cc
    onnxruntime/core/optimizer/qdq_transformer/selectors_actions/qdq_selector_action_transformer.cc
    onnxruntime/core/optimizer/qdq_transformer/selectors_actions/qdq_selectors.cc
    onnxruntime/core/optimizer/qdq_transformer/selectors_actions/shared/utils.cc
    onnxruntime/core/optimizer/quick_gelu_fusion.cc
    onnxruntime/core/optimizer/relu_clip_fusion.cc
    onnxruntime/core/optimizer/reshape_fusion.cc
    onnxruntime/core/optimizer/rocm_blas_alt_impl.cc
    onnxruntime/core/optimizer/rule_based_graph_transformer.cc
    onnxruntime/core/optimizer/selectors_actions/actions.cc
    onnxruntime/core/optimizer/selectors_actions/helpers.cc
    onnxruntime/core/optimizer/selectors_actions/selector_action_transformer.cc
    onnxruntime/core/optimizer/skip_layer_norm_fusion.cc
    onnxruntime/core/optimizer/slice_elimination.cc
    onnxruntime/core/optimizer/transformer_memcpy.cc
    onnxruntime/core/optimizer/transpose_optimizer/optimizer_api_impl.cc
    onnxruntime/core/optimizer/transpose_optimizer/ort_transpose_optimizer.cc
    onnxruntime/core/optimizer/transpose_optimizer/transpose_optimizer.cc
    onnxruntime/core/optimizer/unsqueeze_elimination.cc
    onnxruntime/core/optimizer/utils.cc
    onnxruntime/core/platform/env.cc
    onnxruntime/core/platform/env_time.cc
    onnxruntime/core/platform/logging/make_platform_default_log_sink.cc
    onnxruntime/core/platform/path_lib.cc
    onnxruntime/core/platform/posix/env.cc
    onnxruntime/core/platform/posix/env_time.cc
    onnxruntime/core/platform/posix/ort_mutex.cc
    onnxruntime/core/platform/posix/stacktrace.cc
    onnxruntime/core/platform/telemetry.cc
    onnxruntime/core/providers/cpu/activation/activations.cc
    onnxruntime/core/providers/cpu/controlflow/if.cc
    onnxruntime/core/providers/cpu/controlflow/loop.cc
    onnxruntime/core/providers/cpu/controlflow/scan_8.cc
    onnxruntime/core/providers/cpu/controlflow/scan_9.cc
    onnxruntime/core/providers/cpu/controlflow/scan_utils.cc
    onnxruntime/core/providers/cpu/controlflow/utils.cc
    onnxruntime/core/providers/cpu/cpu_execution_provider.cc
    onnxruntime/core/providers/cpu/cpu_provider_factory.cc
    onnxruntime/core/providers/cpu/cpu_provider_shared.cc
    onnxruntime/core/providers/cpu/generator/constant_of_shape.cc
    onnxruntime/core/providers/cpu/generator/random.cc
    onnxruntime/core/providers/cpu/generator/range.cc
    onnxruntime/core/providers/cpu/math/clip.cc
    onnxruntime/core/providers/cpu/math/cumsum.cc
    onnxruntime/core/providers/cpu/math/det.cc
    onnxruntime/core/providers/cpu/math/einsum.cc
    onnxruntime/core/providers/cpu/math/einsum_utils/einsum_auxiliary_ops.cc
    onnxruntime/core/providers/cpu/math/einsum_utils/einsum_compute_preprocessor.cc
    onnxruntime/core/providers/cpu/math/einsum_utils/einsum_typed_compute_processor.cc
    onnxruntime/core/providers/cpu/math/element_wise_ops.cc
    onnxruntime/core/providers/cpu/math/gemm.cc
    onnxruntime/core/providers/cpu/math/hardmax.cc
    onnxruntime/core/providers/cpu/math/matmul.cc
    onnxruntime/core/providers/cpu/math/round.cc
    onnxruntime/core/providers/cpu/math/sign.cc
    onnxruntime/core/providers/cpu/math/softmax.cc
    onnxruntime/core/providers/cpu/math/softmax_shared.cc
    onnxruntime/core/providers/cpu/math/top_k.cc
    onnxruntime/core/providers/cpu/ml/array_feature_extractor.cc
    onnxruntime/core/providers/cpu/ml/binarizer.cc
    onnxruntime/core/providers/cpu/ml/cast_map.cc
    onnxruntime/core/providers/cpu/ml/category_mapper.cc
    onnxruntime/core/providers/cpu/ml/dictvectorizer.cc
    onnxruntime/core/providers/cpu/ml/feature_vectorizer.cc
    onnxruntime/core/providers/cpu/ml/imputer.cc
    onnxruntime/core/providers/cpu/ml/label_encoder.cc
    onnxruntime/core/providers/cpu/ml/linearclassifier.cc
    onnxruntime/core/providers/cpu/ml/linearregressor.cc
    onnxruntime/core/providers/cpu/ml/normalizer.cc
    onnxruntime/core/providers/cpu/ml/onehotencoder.cc
    onnxruntime/core/providers/cpu/ml/scaler.cc
    onnxruntime/core/providers/cpu/ml/svmclassifier.cc
    onnxruntime/core/providers/cpu/ml/svmregressor.cc
    onnxruntime/core/providers/cpu/ml/tree_ensemble_classifier.cc
    onnxruntime/core/providers/cpu/ml/tree_ensemble_helper.cc
    onnxruntime/core/providers/cpu/ml/treeregressor.cc
    onnxruntime/core/providers/cpu/ml/zipmap.cc
    onnxruntime/core/providers/cpu/nn/Unpool.cc
    onnxruntime/core/providers/cpu/nn/batch_norm.cc
    onnxruntime/core/providers/cpu/nn/conv.cc
    onnxruntime/core/providers/cpu/nn/conv_transpose.cc
    onnxruntime/core/providers/cpu/nn/dropout_op.cc
    onnxruntime/core/providers/cpu/nn/flatten.cc
    onnxruntime/core/providers/cpu/nn/instance_norm.cc
    onnxruntime/core/providers/cpu/nn/layer_norm.cc
    onnxruntime/core/providers/cpu/nn/layer_norm_impl.cc
    onnxruntime/core/providers/cpu/nn/lp_norm.cc
    onnxruntime/core/providers/cpu/nn/lrn.cc
    onnxruntime/core/providers/cpu/nn/pool.cc
    onnxruntime/core/providers/cpu/nn/roi_pool.cc
    onnxruntime/core/providers/cpu/nn/shrink.cc
    onnxruntime/core/providers/cpu/nn/string_normalizer.cc
    onnxruntime/core/providers/cpu/nn/tfidfvectorizer.cc
    onnxruntime/core/providers/cpu/object_detection/non_max_suppression.cc
    onnxruntime/core/providers/cpu/object_detection/roialign.cc
    onnxruntime/core/providers/cpu/optional/optional_ops.cc
    onnxruntime/core/providers/cpu/quantization/conv_integer.cc
    onnxruntime/core/providers/cpu/quantization/dynamicquantizelinear.cc
    onnxruntime/core/providers/cpu/quantization/matmul_integer.cc
    onnxruntime/core/providers/cpu/quantization/qlinearconv.cc
    onnxruntime/core/providers/cpu/quantization/quantize_linear.cc
    onnxruntime/core/providers/cpu/quantization/quantize_linear_matmul.cc
    onnxruntime/core/providers/cpu/reduction/reduction_ops.cc
    onnxruntime/core/providers/cpu/rnn/deep_cpu_gru.cc
    onnxruntime/core/providers/cpu/rnn/deep_cpu_lstm.cc
    onnxruntime/core/providers/cpu/rnn/lstm_base.cc
    onnxruntime/core/providers/cpu/rnn/rnn.cc
    onnxruntime/core/providers/cpu/rnn/rnn_helpers.cc
    onnxruntime/core/providers/cpu/rnn/uni_directional_lstm.cc
    onnxruntime/core/providers/cpu/sequence/concat_from_sequence.cc
    onnxruntime/core/providers/cpu/sequence/sequence_ops.cc
    onnxruntime/core/providers/cpu/signal/dft.cc
    onnxruntime/core/providers/cpu/signal/window_functions.cc
    onnxruntime/core/providers/cpu/tensor/cast_op.cc
    onnxruntime/core/providers/cpu/tensor/col2im.cc
    onnxruntime/core/providers/cpu/tensor/compress.cc
    onnxruntime/core/providers/cpu/tensor/concat.cc
    onnxruntime/core/providers/cpu/tensor/expand.cc
    onnxruntime/core/providers/cpu/tensor/eye_like.cc
    onnxruntime/core/providers/cpu/tensor/gather.cc
    onnxruntime/core/providers/cpu/tensor/gather_elements.cc
    onnxruntime/core/providers/cpu/tensor/gather_nd.cc
    onnxruntime/core/providers/cpu/tensor/grid_sample.cc
    onnxruntime/core/providers/cpu/tensor/identity_op.cc
    onnxruntime/core/providers/cpu/tensor/isinf.cc
    onnxruntime/core/providers/cpu/tensor/isnan.cc
    onnxruntime/core/providers/cpu/tensor/mean_variance_normalization.cc
    onnxruntime/core/providers/cpu/tensor/nonzero_op.cc
    onnxruntime/core/providers/cpu/tensor/onehot.cc
    onnxruntime/core/providers/cpu/tensor/pad.cc
    onnxruntime/core/providers/cpu/tensor/reshape.cc
    onnxruntime/core/providers/cpu/tensor/resize.cc
    onnxruntime/core/providers/cpu/tensor/reverse_sequence.cc
    onnxruntime/core/providers/cpu/tensor/scatter.cc
    onnxruntime/core/providers/cpu/tensor/scatter_nd.cc
    onnxruntime/core/providers/cpu/tensor/shape_op.cc
    onnxruntime/core/providers/cpu/tensor/size.cc
    onnxruntime/core/providers/cpu/tensor/slice.cc
    onnxruntime/core/providers/cpu/tensor/space_depth_ops.cc
    onnxruntime/core/providers/cpu/tensor/split.cc
    onnxruntime/core/providers/cpu/tensor/squeeze.cc
    onnxruntime/core/providers/cpu/tensor/tile.cc
    onnxruntime/core/providers/cpu/tensor/transpose.cc
    onnxruntime/core/providers/cpu/tensor/trilu.cc
    onnxruntime/core/providers/cpu/tensor/unique.cc
    onnxruntime/core/providers/cpu/tensor/unsqueeze.cc
    onnxruntime/core/providers/cpu/tensor/upsample.cc
    onnxruntime/core/providers/cpu/tensor/where_op.cc
    onnxruntime/core/providers/get_execution_providers.cc
    onnxruntime/core/providers/partitioning_utils.cc
    onnxruntime/core/providers/utils.cc
    onnxruntime/core/session/IOBinding.cc
    onnxruntime/core/session/abi_session_options.cc
    onnxruntime/core/session/allocator_adapters.cc
    onnxruntime/core/session/api_utils.cc
    onnxruntime/core/session/custom_ops.cc
    onnxruntime/core/session/default_cpu_allocator_c_api.cc
    onnxruntime/core/session/environment.cc
    onnxruntime/core/session/inference_session.cc
    onnxruntime/core/session/inference_session_utils.cc
    onnxruntime/core/session/onnxruntime_c_api.cc
    onnxruntime/core/session/ort_env.cc
    onnxruntime/core/session/provider_bridge_ort.cc
    onnxruntime/core/session/provider_registration.cc
    onnxruntime/core/session/standalone_op_invoker.cc
    onnxruntime/core/util/math_cpu.cc
    onnxruntime/core/util/thread_utils.cc
)

IF (OS_DARWIN)
    EXTRALIBS("-framework Foundation")
    SRCS(
        onnxruntime/core/platform/apple/logging/apple_log_sink.mm
    )
ENDIF()

SRC_C_AVX(onnxruntime/core/mlas/lib/intrinsics/avx/min_max_elements.cpp)

SRC_C_AVX2(onnxruntime/core/mlas/lib/intrinsics/avx2/qdwconv_avx2.cpp)

SRC_C_AVX2(onnxruntime/core/mlas/lib/intrinsics/avx2/qladd_avx2.cpp)

SRC_C_AVX2(onnxruntime/core/mlas/lib/qgemm_kernel_avx2.cpp)

SRC_C_AVX512(onnxruntime/core/mlas/lib/intrinsics/avx512/quantize_avx512f.cpp)

SRC_C_AMX(onnxruntime/core/mlas/lib/qgemm_kernel_amx.cpp)

END()

IF (HAVE_CUDA AND CUDA_VERSION VERSION_GE 11.4)
    RECURSE(
        onnxruntime/core/providers/cuda
    )
ENDIF()
